<ng-container *ngIf="monthPicker; else datePicker">
    <ng-container *ngIf="!forceCustom && supportsInputOfType('month'); else dateFallback">
        <input
            type="month"
            class="form-control seb-date-picker-native"
            [ngClass]="className"
            [class.is-invalid]="!isValidDate(value)"
            [attr.min]="getStringFromDate(min)"
            [attr.max]="getStringFromDate(max)"
            [(ngModel)]="inputRawValue"
        />
    </ng-container>
</ng-container>

<ng-template #datePicker>
    <ng-container *ngIf="!forceCustom && supportsInputOfType('date'); else dateFallback">
        <input
            type="date"
            class="form-control seb-date-picker-native"
            [ngClass]="className"
            [class.is-invalid]="!isValidDate(value)"
            [attr.min]="getStringFromDate(min)"
            [attr.max]="getStringFromDate(max)"
            [(ngModel)]="inputRawValue"
        />
    </ng-container>
</ng-template>

<ng-template #dateFallback>
    <div class="input-group" [ngClass]="className">
        <input
            #dayInput
            [style.display]="monthPicker ? 'none' : 'inherit'"
            [class.is-invalid]="!isValidDate(value)"
            class="form-control"
            type="number"
            min="1"
            max="31"
            placeholder="Day"
            [(ngModel)]="customDay"
        />
        <select
            #monthInput
            [class.is-invalid]="!isValidDate(value)"
            [class.rounded-left]="monthPicker"
            [(ngModel)]="customMonth"
            class="custom-select"
        >
            <option [disabled]="i === 0" [value]="i" *ngFor="let month of monthNames; let i = index">{{ month }} </option>
        </select>
        <input
            #yearInput
            [class.is-invalid]="!isValidDate(value)"
            class="form-control"
            type="number"
            min="1"
            placeholder="Year"
            [(ngModel)]="customYear"
        />
    </div>
</ng-template>
