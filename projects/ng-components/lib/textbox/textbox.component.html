<div class="ac input-box-group" [ngClass]="className">
    <label class="custom-label" [attr.for]="internalId" *ngIf="label">
        {{ label }}
    </label>
    <div class="input-group" [ngClass]="{ success: success, 'has-error': error, disabled: disabled }">
        <div class="input-box-group-wrapper">
            <div
                class="input-group-prepend"
                [class.clickable]="onLeftClick.observers.length"
                [attr.role]="onLeftClick.observers.length ? 'button' : ''"
                (click)="handleLeftIconClick($event)"
                *ngIf="leftIcon || leftText"
            >
                <ng-container *ngIf="leftText">
                    <span class="input-group-text" [attr.title]="leftTitle">
                        {{ leftText }}
                    </span>
                </ng-container>
                <ng-container *ngIf="leftIcon && !leftText">
                    <span class="input-group-text" [innerHTML]="leftIcon | safeHtml"></span>
                </ng-container>
            </div>
            <input
                [attr.id]="internalId"
                [attr.name]="name"
                [attr.type]="type || 'text'"
                [attr.pattern]="pattern"
                [required]="required"
                [attr.minLength]="minLength"
                [attr.maxLength]="maxLength"
                [(ngModel)]="value"
                [attr.placeholder]="placeholder"
                class="form-control"
                [autofocus]="focus"
                [attr.autocomplete]="autocomplete"
                [readOnly]="readonly"
                [disabled]="disabled"
                (keydown)="handleKeyDown($event)"
                (keyup)="handleKeyUp($event)"
                (keypress)="handleKeyPress($event)"
                (focus)="handleFocus($event)"
                (blur)="handleBlur($event)"
                (search)="handleSearch($event)"
            />

            <div
                class="input-group-append"
                [class.clickable]="onRightClick.observers.length"
                (click)="handleRightIconClick($event)"
                [attr.role]="onRightClick.observers.length ? 'button' : ''"
                *ngIf="rightIcon || rightText"
            >
                <span class="input-group-text" *ngIf="rightText" [attr.title]="rightTitle">
                    {{ rightText }}
                </span>

                <span class="input-group-text" *ngIf="rightIcon && !rightText" [innerHTML]="rightIcon | safeHtml"></span>
            </div>
        </div>

        <div class="alert alert-danger" *ngIf="error && !success">{{ error }}</div>
    </div>
</div>
